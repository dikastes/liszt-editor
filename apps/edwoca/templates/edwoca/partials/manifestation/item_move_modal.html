<dialog id="move_modal_{{ item.id }}" class="modal modal-open">
  <div class="modal-box bg-base-100 shadow-xl border border-base-300">
    <h3 class="font-bold text-lg mb-2">Exemplar verschieben</h3>
    <p class="text-sm opacity-70 mb-4">
      Aktuelle Signatur: <span class="font-mono">{{ item.get_current_signature }}</span>
    </p>
    
    <div class="form-control w-full mb-4">
      <label class="label">
        <span class="label-text font-semibold">Ziel-Manifestation suchen</span>
      </label>
      <input type="text" 
             name="q" 
             placeholder="RISM-ID oder Titel..." 
             class="input input-bordered w-full"
             hx-get="{% url 'edwoca:manifestation_autocomplete' %}"
             hx-target="#search-results"
             hx-trigger="keyup changed delay:300ms">
    </div>

    <form hx-post="{% url 'edwoca:item_move_execute' item.id %}" 
          hx-target="#item-list-container">
      {% csrf_token %}
      
      <div id="search-results" class="max-h-60 overflow-y-auto border rounded-lg p-2 bg-base-200 empty:hidden">
        <p class="text-xs italic p-2 text-gray-500">Geben Sie oben einen Suchbegriff ein...</p>
      </div>

      <div class="modal-action flex justify-between">
        <button type="button" class="btn btn-ghost" onclick="this.closest('dialog').remove()">Abbrechen</button>
        
        <button type="submit" id="submit-move" class="btn btn-primary" disabled>
          Verschieben best√§tigen
        </button>
      </div>
    </form>
  </div>
</dialog>